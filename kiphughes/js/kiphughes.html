<!DOCTYPE html>
<html>
<head>
	<title>JS test</title>
	<link type="text/css" rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link type="text/css" rel="stylesheet" href="//cdn.datatables.net/1.10.2/css/jquery.dataTables.min.css">
	<link type="text/css" rel="stylesheet" href="//cdn.datatables.net/tabletools/2.2.2/css/dataTables.tableTools.css">
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.js"></script>
	<script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="//cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" src="//cdn.datatables.net/tabletools/2.2.2/js/dataTables.tableTools.min.js"></script>
</head>
<body>
<div class="container-fluid">
Toggle Column: <div class="btn-group">
  <button type="button" class="btn btn-default btnToggle" value="0">Lorem</button>
  <button type="button" class="btn btn-default btnToggle" value="1">Ipsum</button>
  <button type="button" class="btn btn-default btnToggle" value="2">Dolor</button>
  <button type="button" class="btn btn-default btnToggle" value="3">Sit</button>
</div>
<table class="table table-hover table-striped" id="mytbl">
	<thead>
		<th>Lorem</th>
		<th>Ipsum</th>
		<th>Dolor</th>
		<th>Sit</th>
	</thead>
	<tfoot>
		<th>Lorem</th>
		<th>Ipsum</th>
		<th>Dolor</th>
		<th>Sit</th>
	</tfoot>
	<tbody>
		<tr>
			<td>consectetur </td>
			<td>adipiscing </td>
			<td>elit</td>
			<td>Nunc </td>
		</tr>
		<tr>
			<td>dolor </td>
			<td>est</td>
			<td>pretium </td>
			<td>sed </td>
		</tr>
		<tr>
			<td>vehicula </td>
			<td>sollicitudin </td>
			<td>ipsum</td>
			<td>Cras </td>
		</tr>
		<tr>
			<td>malesuada </td>
			<td>sem </td>
			<td>tincidunt </td>
			<td>consectetur </td>
		</tr>
		<tr>
			<td>Curabitur </td>
			<td>porta </td>
			<td>velit </td>
			<td>sapien</td>
		</tr>
	</tbody>
</table>
</div>
<script type="text/javascript">
	$(function(){
		var table = $('#mytbl').DataTable( {
			"dom": 'T<"clear">lfrtip',
			"stateSave": true,
      "tableTools": {
          "sSwfPath": "tabletools/swf/copy_csv_xls_pdf.swf",
          "aButtons": [
                {
                    "sExtends": "csv",
                    "fnClick": function ( nButton, oConfig, flash ) {
                        this.fnSetText( flash, this.fnGetTableData(oConfig) );
                    }
                }
            ]
      }
    } );
		
		// toggle column visiblity
		$('.btnToggle').on( 'click', function (e) {
        e.preventDefault();
 
        // Get the column API object
        var column = table.column( $(this).attr('value') );
 
        // Toggle the visibility
        column.visible( ! column.visible() );
    } );
    
    // add text input to each footer cell
    $('#mytbl tfoot th').each( function () {
        var title = $('#mytbl thead th').eq( $(this).index() ).text();
        $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
    });
    
    // Apply the search
    table.columns().eq( 0 ).each( function ( colIdx ) {
        $( 'input', table.column( colIdx ).footer() ).on( 'keyup change', function () {
            table
                .column( colIdx )
                .search( this.value )
                .draw();
        } );
    } );
    
	});
</script>
</body>
</html>